<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" transformation-matrix-js Classes Matrix Tutorials Converting to and from SVG matricesNode support Classes Classes Matrix × Search results Close Epistemex at GitHub "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" transformation-matrix-js Classes Matrix Tutorials Converting to and from SVG matricesNode support Tutorials Classes Matrix × Search results Close Epistemex at GitHub "},"index.html":{"id":"index.html","title":"Index","body":" transformation-matrix-js Classes Matrix Tutorials Converting to and from SVG matricesNode support 2D Affine Transformation MatrixAn affine transformation matrix (3x3) class for JavaScript that performs various transformations such as rotate, scale, translate, skew, shear, add, subtract, multiply, divide, inverse, decomposing, animation, converting to and from a SVG/DOM matrix, creating matrix from triangles and more (full HTML documentation is included). It's primarily intended for situations where you need to track or create transforms and want to apply it permanently/manually to your own points and polygons, or when you need cross-browser compatibility. The matrix can optionally synchronize a canvas 2D context or a DOM element so that the transformations on the canvas matches pixel perfect the local transformations of the Matrix object. For browsers which support DOMMatrix and/or SVGMatrix it can be used as a supplementary framework to increase flexibility such as working directly with transformed points, perform addition transformation, interpolate animation and so forth. Targets first and most client side use, but can be used directly in a node.js environment as well. No dependencies. InstallDownload zip and extract to folder. git via HTTPS: $ git clone https://github.com/epistemex/transformation-matrix-js.gitgit via SSH: $ git clone git@github.com:epistemex/transformation-matrix-js.gitUsing Bower: $ bower install transformation-matrix-jsUsing NPM $ npm install transformation-matrix-jsUsageBrowserJust include the script and create a new instance: var matrix = new Matrix([context] [,domElement]);You can supply an optional canvas 2D context and/or DOM element as arguments which will be synchronized with the transformations that are applied to the matrix object. NodeUsing it with Node: use npm to install the package first (see above), then var Matrix = require(&quot;transformation-matrix-js&quot;).Matrix; var m = new Matrix();Quick overviewConstructor var m = new Matrix( [context] [,element] );Can optionally synchronize a canvas 2D context and/or a DOM element. Static methods (alternatives to the constructor): Matrix.from( a, b, c, d, e, f ); // create a matrix from various sources Matrix.from( DOMMatrix ); Matrix.from( SVGMatrix ); Matrix.fromTriangles( t1, t2 ); // returns matrix needed to produce t2 from t1 Matrix.fromSVGTransformList( tList ); // create new matrix from a SVG transform listMethods: applyToArray(points) applyToContext(context) applyToElement(element [, use3D]) // auto-detects browser prefix if any applyToObject(obj) applyToPoint(x, y) applyToTypedArray(points [, use64]) clone(noContext) concat(cm) decompose([useLU]) // breaks down the transform into individual components determinant() divide(m) divideScalar(d) flipX() flipY() interpolate(m2, t [, context [, dom]]) interpolateAnim(m2, t [, context [, dom]]) // decomposed interpolation (prevents flipping) inverse([cloneContext][, cloneElement]) // get inverse matrix isEqual(m) isIdentity() isInvertible() isValid() multiply(m) reflectVector(x, y) reset() rotate(angle) rotateDeg(angle) rotateFromVector(x, y) scale(sx, sy) scaleFromVector(x, y) // uniform scale based on input vector (hypotenuse) scaleU(f) // uniform scale scaleX(sx) scaleY(sy) setTransform(a, b, c, d, e, f) shear(sx, sy) shearX(sx) shearY(sy) skew(ax, ay) skewDeg(ax, ay) skewX(ax) skewY(ay) toArray() toCSS() toCSS3D() toCSV() toJSON() toString() toDOMMatrix() // creates a DOMMatrix from current transforms toSVGMatrix() // creates a SVGMatrix from current transforms toTypedArray([use64]) transform(a2, b2, c2, d2, e2, f2) translate(tx, ty) translateX(tx) translateY(ty)Properties: a // scale x b // shear y c // shear x d // scale y e // translate x f // translate yExamplesApply to a point: tPoint = m.applyToPoint( x, y );Apply to an Array with point objects or point pair values: tPoints = m.applyToArray( [{x: x1, y: y1}, {x: x2, y: y2}, ...] ); tPoints = m.applyToArray( [x1, y1, x2, y2, ...] ); tPoints = m.applyToTypedArray(...);or apply to a canvas context (other than optionally referenced in constructor): m.applyToContext( myContext );Get inverse transformation matrix (the matrix you need to apply to get back to an identity matrix from whatever the matrix contains): invMatrix = m.inverse();or var invMatrix; if (m.isInvertible()) { // check if we can inverse invMatrix = m.inverse(); }You can interpolate between current and a new matrix. The function returns a new matrix: im = m.interpolate( m2, t ); // t = [0.0, 1.0] im = m.interpolateAnim( m2, t );The former does a naive interpolation which works fine with translate and scale. The latter is better suited when there is rotation involved to avoid &quot;flipping&quot; utilizing decomposition. Check if there is any transforms applied: state = m.isIdentity(); // true if identityCheck if two matrices are identical: state = m.isEqual( matrix2 ); // true if equalReset matrix to an identity matrix: m.reset();Methods are chainable: // rotate, then translate m.rotateDeg(45).translate(100, 200);To synchronize a DOM element you can either specify the DOM element in the constructor or synchronize manually (auto-detects browser prefix): m.applyToElement( domElement );See documentation for full overview and usage. Contributors Ken &quot;Fyrstenberg&quot; Nilsen (creator) (https://github.com/epistemex) Leon Sorokin (https://github.com/leeoniya) Henry Ruhs (https://github.com/redaxmedia) Matthieu Dumas (https://github.com/solendil) Viktor Hesselbom (https://github.com/hesselbom) See Change.log for details. LicenseReleased under MIT license. You can use this class in both commercial and non-commercial projects provided that full header (minified and developer versions) is included. © 2014-2017 Epistemex × Search results Close Epistemex at GitHub "},"Matrix.html":{"id":"Matrix.html","title":"Class: Matrix","body":" transformation-matrix-js Classes Matrix Tutorials Converting to and from SVG matricesNode support Class: Matrix Matrix new Matrix( [context] [, element]) 2D transformation matrix object initialized with identity matrix. The matrix can synchronize a canvas 2D context by supplying the context as an argument, or later apply current absolute transform to an existing context. To synchronize a DOM element you can use toCSS() or toCSS3D(). Parameters: Name Type Argument Default Description context CanvasRenderingContext2D &lt;optional&gt; Optional context to sync with Matrix element HTMLElement &lt;optional&gt; null DOM Element to synchronize Properties: Name Type Argument Default Description a number scale x b number shear y c number shear x d number scale y e number translate x f number translate y context CanvasRenderingContext2D &lt;optional&gt; set or get current synchronized 2D context element HTMLElement &lt;optional&gt; get current synchronized DOM element useCSS3D boolean &lt;optional&gt; false is a DOM element is defined for sync., choose whether to use 2D (false) or 3D (true) matrix to sync it. Copyright: Epistemex.com 2014-2016 License: MIT license (header required) Methods &lt;static&gt; from(a [, b] [, c] [, d] [, e] [, f] [, context] [, dom]) Create and transform a new matrix based on given matrix values, or provide SVGMatrix or a (2D) DOMMatrix or another instance of a Matrix (in fact, any 2D matrix object using properties a-f can be used as source). Parameters: Name Type Argument Description a * number representing a in [a-f], or a Matrix object containing properties a-f. Vector is given as an object with properties x and y. b * &lt;optional&gt; b property if a is not a matrix object, or optional canvas 2D context. If vector is input this will be pre-translate for x. c number &lt;optional&gt; If vector is input this will be pre-translate for y. d number &lt;optional&gt; If vector is input, set this to true to use scale and translate of 1, false to use hypotenuse as translate distance instead and no scale. e number &lt;optional&gt; f number &lt;optional&gt; context CanvasRenderingContext2D &lt;optional&gt; optional canvas context to synchronize dom HTMLElement &lt;optional&gt; optional DOM element to use for the matrix Returns: Type Matrix Example var m = Matrix.from(1, 0.2, 0, 2, 120, 97); var m = Matrix.from(domMatrix, ctx); var m = Matrix.from(svgMatrix); var m = Matrix.from(matrix); var m = Matrix.from(vector [,pre-x] [,pre-y] [,doScale]); &lt;static&gt; fromSVGTransformList(tList [, context] [, dom]) Create a matrix from a transform list from an SVG shape. The list can be for example baseVal (i.e. shape.transform.baseVal). The resulting matrix has all transformations from that list applied in the same order as the list. Parameters: Name Type Argument Description tList SVGTransformList transform list from an SVG shape. context CanvasRenderingContext2D &lt;optional&gt; optional canvas 2D context to use for the matrix dom HTMLElement &lt;optional&gt; optional DOM element to use for the matrix See: MDN / SVGTransformList Returns: Type Matrix &lt;static&gt; fromTriangles(t1, t2 [, context]) Returns a new matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible. Note: the method can take both arrays as well as literal objects. Just make sure that both arguments (t1, t2) are of the same type. Parameters: Name Type Argument Description t1 Object | Array Object or array containing the three points for the triangle. For object use obj.px, obj.py, obj.qx, obj.qy, obj.rx and obj.ry. For arrays provide the points in the order [px, py, qx, qy, rx, ry], or as point array [{x:,y:}, {x:,y:}, {x:,y:}] t2 Object | Array See description for t1. context CanvasRenderingContext2D &lt;optional&gt; optional canvas 2D context to use for the matrix Throws: Exception is matrix becomes not invertible Returns: Type Matrix applyToArray(points) Apply current matrix to array with point objects or point pairs. Returns a new array with points in the same format as the input array. A point object is an object literal: {x: x, y: y}so an array would contain either: [{x: x1, y: y1}, {x: x2, y: y2}, ... {x: xn, y: yn}]or [x1, y1, x2, y2, ... xn, yn] Parameters: Name Type Description points Array array with point objects or pairs Returns: A new array with transformed points Type Array applyToContext(context) Apply to any canvas 2D context object. This does not affect the context that optionally was referenced in constructor unless it is the same context. Parameters: Name Type Description context CanvasRenderingContext2D target context Returns: Type Matrix applyToElement(element [, use3D]) Apply to any DOM element. This does not affect the DOM element that optionally was referenced in constructor unless it is the same element. The method will auto-detect the correct browser prefix if any. Parameters: Name Type Argument Default Description element HTMLElement target DOM element use3D boolean &lt;optional&gt; false use 3D transformation matrix instead of 2D Returns: Type Matrix applyToObject(obj) Instead of creating a new instance of a Matrix, DOMMatrix or SVGMatrix the current settings of this instance can be applied to an external object of a different (or same) type. You can also pass in an empty literal object. Note that the properties a-f will be set regardless of if they already exist or not. Parameters: Name Type Description obj * target object. Returns: Type Matrix applyToPoint(x, y) Apply current matrix to x and y of a point. Returns a point object. Parameters: Name Type Description x number value for x y number value for y Returns: A new transformed point object Type Object applyToTypedArray(points [, use64]) Apply current matrix to a typed array with point pairs. Although the input array may be an ordinary array, this method is intended for more performant use where typed arrays are used. The returned array is regardless always returned as a Float32Array. Parameters: Name Type Argument Default Description points * (typed) array with point pairs [x1, y1, ..., xn, yn] use64 boolean &lt;optional&gt; false use Float64Array instead of Float32Array Returns: A new typed array with transformed points Type * clone( [noContext]) Clones current instance and returning a new matrix. Parameters: Name Type Argument Default Description noContext boolean &lt;optional&gt; false don't clone context reference if true Returns: a new Matrix instance with identical transformations as this instance Type Matrix concat(cm) Concatenates transforms of this matrix onto the given child matrix and returns a new matrix. This instance is used on left side. Parameters: Name Type Description cm Matrix | SVGMatrix child matrix to apply concatenation to Returns: new Matrix instance Type Matrix decompose( [useLU]) Decompose the current matrix into simple transforms using either QR (default) or LU decomposition. Parameters: Name Type Argument Default Description useLU boolean &lt;optional&gt; false set to true to use LU rather than QR decomposition See: Adoption based on this code More on QR decomposition More on LU decomposition Returns: an object containing current decomposed values (translate, rotation, scale, skew) Type * determinant() Returns the determinant of the current matrix. Returns: Type number divide(m) Divide this matrix on input matrix which must be invertible. Parameters: Name Type Description m Matrix matrix to divide on (divisor) Throws: Exception if input matrix is not invertible Returns: Type Matrix divideScalar(d) Divide current matrix on scalar value != 0. Parameters: Name Type Description d number divisor Throws: Exception if divisor is zero Returns: Type Matrix flipX() Flips the horizontal values. Returns: Type Matrix flipY() Flips the vertical values. Returns: Type Matrix interpolate(m2, t [, context] [, dom]) Interpolate this matrix with another and produce a new matrix. t is a value in the range [0.0, 1.0] where 0 is this instance and 1 is equal to the second matrix. The t value is not clamped. Context from parent matrix is not applied to the returned matrix. Note: this interpolation is naive. For animation containing rotation, shear or skew use the interpolateAnim() method instead to avoid unintended flipping. Parameters: Name Type Argument Description m2 Matrix | SVGMatrix the matrix to interpolate with. t number interpolation [0.0, 1.0] context CanvasRenderingContext2D &lt;optional&gt; optional context to affect dom HTMLElement &lt;optional&gt; optional DOM element to use for the matrix Returns: new Matrix instance with the interpolated result Type Matrix interpolateAnim(m2, t [, context] [, dom]) Interpolate this matrix with another and produce a new matrix. t is a value in the range [0.0, 1.0] where 0 is this instance and 1 is equal to the second matrix. The t value is not constrained. Context from parent matrix is not applied to the returned matrix. To obtain easing t can be preprocessed using easing-functions before being passed to this method. Note: this interpolation method uses decomposition which makes it suitable for animations (in particular where rotation takes places). Parameters: Name Type Argument Description m2 Matrix the matrix to interpolate with. t number interpolation [0.0, 1.0] context CanvasRenderingContext2D &lt;optional&gt; optional context to affect dom HTMLElement &lt;optional&gt; optional DOM element to use for the matrix Returns: new Matrix instance with the interpolated result Type Matrix inverse( [cloneContext] [, cloneDOM]) Get an inverse matrix of current matrix. The method returns a new matrix with values you need to use to get to an identity matrix. Context from parent matrix is not applied to the returned matrix. Parameters: Name Type Argument Default Description cloneContext boolean &lt;optional&gt; false clone current context to resulting matrix cloneDOM boolean &lt;optional&gt; false clone current DOM element to resulting matrix Throws: Exception is input matrix is not invertible Returns: new Matrix instance Type Matrix isEqual(m) Compares current matrix with another matrix. Returns true if equal (within epsilon tolerance). Parameters: Name Type Description m Matrix | SVGMatrix matrix to compare this matrix with Returns: Type boolean isIdentity() Returns true if matrix is an identity matrix (no transforms applied). Returns: Type boolean isInvertible() Returns true if matrix is invertible Returns: Type boolean isValid() The method is intended for situations where scale is accumulated via multiplications, to detect situations where scale becomes &quot;trapped&quot; with a value of zero. And in which case scale must be set explicitly to a non-zero value. Returns: Type boolean multiply(m) Multiplies current matrix with source matrix. Parameters: Name Type Description m Matrix | DOMMatrix | SVGMatrix source matrix to multiply with. Returns: Type Matrix reflectVector(x, y) Reflects incoming (velocity) vector on the normal which will be the current transformed x axis. Call when a trigger condition is met. Parameters: Name Type Description x number vector end point for x (start = 0) y number vector end point for y (start = 0) Returns: Type Object reset() Short-hand to reset current matrix to an identity matrix. Returns: Type Matrix rotate(angle) Rotates current matrix by angle (accumulative). Parameters: Name Type Description angle number angle in radians Returns: Type Matrix rotateDeg(angle) Helper method to make a rotation based on an angle in degrees. Parameters: Name Type Description angle number angle in degrees Returns: Type Matrix rotateFromVector(x [, y]) Converts a vector given as x and y to angle, and rotates (accumulative). x can instead contain an object with properties x and y and if so, y parameter will be ignored. Parameters: Name Type Argument Description x number | * y number &lt;optional&gt; Returns: Type Matrix scale(sx, sy) Scales current matrix accumulative. Parameters: Name Type Description sx number scale factor x (1 does nothing) sy number scale factor y (1 does nothing) Returns: Type Matrix scaleFromVector(x, y) Converts a vector given as x and y to normalized scale. Parameters: Name Type Description x y Returns: Type Matrix scaleU(f) Scales current matrix uniformly and accumulative. Parameters: Name Type Description f number scale factor for both x and y (1 does nothing) Returns: Type Matrix scaleX(sx) Scales current matrix on x axis accumulative. Parameters: Name Type Description sx number scale factor x (1 does nothing) Returns: Type Matrix scaleY(sy) Scales current matrix on y axis accumulative. Parameters: Name Type Description sy number scale factor y (1 does nothing) Returns: Type Matrix setTransform(a, b, c, d, e, f) Set current matrix to new absolute matrix. Parameters: Name Type Description a number scale x b number shear y c number shear x d number scale y e number translate x f number translate y Returns: Type Matrix shear(sx, sy) Apply shear to the current matrix accumulative. Parameters: Name Type Description sx number amount of shear for x sy number amount of shear for y Returns: Type Matrix shearX(sx) Apply shear for x to the current matrix accumulative. Parameters: Name Type Description sx number amount of shear for x Returns: Type Matrix shearY(sy) Apply shear for y to the current matrix accumulative. Parameters: Name Type Description sy number amount of shear for y Returns: Type Matrix skew(ax, ay) Apply skew to the current matrix accumulative. Angles in radians. Also see skewDeg(). Parameters: Name Type Description ax number angle of skew for x ay number angle of skew for y Returns: Type Matrix skewDeg(ax, ay) Apply skew to the current matrix accumulative. Angles in degrees. Also see skew(). Parameters: Name Type Description ax number angle of skew for x ay number angle of skew for y Returns: Type Matrix skewX(ax) Apply skew for x to the current matrix accumulative. Angles in radians. Also see skewDeg(). Parameters: Name Type Description ax number angle of skew for x Returns: Type Matrix skewY(ay) Apply skew for y to the current matrix accumulative. Angles in radians. Also see skewDeg(). Parameters: Name Type Description ay number angle of skew for y Returns: Type Matrix toArray() Returns an array with current matrix values. Returns: Type Array toCSS() Generates a string that can be used with CSS transform. Returns: Type string Example element.style.transform = m.toCSS(); toCSS3D() Generates a matrix3d() string that can be used with CSS transform. Although the matrix is for 2D use you may see performance benefits on some devices using a 3D CSS transform instead of a 2D. Returns: Type string Example element.style.transform = m.toCSS3D(); toCSV() Returns a string with current matrix as comma-separated values string with line-end (CR+LF). Returns: Type string toDOMMatrix() Convert current matrix into a DOMMatrix. If DOMMatrix is not supported, a null is returned. See: MDN / SVGMatrix Returns: Type DOMMatrix toJSON() Returns a JSON compatible string of current matrix. Returns: Type string toString( [fixLen]) Returns a string with current matrix as comma-separated list. Parameters: Name Type Argument Default Description fixLen number &lt;optional&gt; 4 truncate decimal values to number of digits Returns: Type string toSVGMatrix() Convert current matrix into a SVGMatrix. If SVGMatrix is not supported, a null is returned. See: MDN / SVGMatrix Returns: Type SVGMatrix toTypedArray( [use64]) Returns a binary typed array, either as 32-bit (default) or 64-bit. Parameters: Name Type Argument Default Description use64 boolean &lt;optional&gt; false chose whether to use 32-bit or 64-bit typed array Returns: Type * transform(a2, b2, c2, d2, e2, f2) Multiplies current matrix with new matrix values. Also see multiply(). Parameters: Name Type Description a2 number scale x b2 number skew y c2 number skew x d2 number scale y e2 number translate x f2 number translate y Returns: Type Matrix translate(tx, ty) Translate current matrix accumulative. Parameters: Name Type Description tx number translation for x ty number translation for y Returns: Type Matrix translateX(tx) Translate current matrix on x axis accumulative. Parameters: Name Type Description tx number translation for x Returns: Type Matrix translateY(ty) Translate current matrix on y axis accumulative. Parameters: Name Type Description ty number translation for y Returns: Type Matrix × Search results Close Epistemex at GitHub "},"tutorial-Converting to and from SVG matrices.html":{"id":"tutorial-Converting to and from SVG matrices.html","title":"Tutorial: Converting to and from SVG matrices","body":" transformation-matrix-js Classes Matrix Tutorials Converting to and from SVG matricesNode support Converting to and from SVG matrices A SVGMatrix has compatible properties (a-f) which can either be applied manually: var svgMatrix = ...obtained from somewhere..., matrix; matrix = new Matrix(context).multiply(svgMatrix);or by using the new static from() method which acts as a short-hand for the same: var matrix = Matrix.from( svgMatrix );If you want to replicate a transformation sequence applied to a SVG shape, you can use the static method fromSVGAnimList(). Example - If you have this SVG in your markup: &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt; &lt;rect x=&quot;50&quot; y=&quot;50&quot; height=&quot;150&quot; width=&quot;150&quot; transform=&quot;translate(5 -50) rotate(10 75 75) skewX(10)&quot;&gt; &lt;/rect&gt; &lt;/svg&gt;You can obtain the shape's (the rect in this case) transformation list like this: var shape = document.querySelector(&quot;svg &gt; rect&quot;), list = shape.transform.baseVal;Feeding this to the fromSVGTransformList() method produces a matrix that will produce the same transform in canvas 2D context or with your point or point arrays: var matrix = Matrix.fromSVGTransformList( list );A matrix can be converted into a SVGMatrix using: var svgMatrix = matrix.toSVGMatrix();SVG matrices can be used directly with canvas in newer browsers, although is in the process of being replaced by DOMMatrix (which is already supported in this library). × Search results Close Epistemex at GitHub "},"tutorial-Node support.html":{"id":"tutorial-Node support.html","title":"Tutorial: Node support","body":" transformation-matrix-js Classes Matrix Tutorials Converting to and from SVG matricesNode support Node support Install the package using the Node Package Manager (npm). Go to the project directory: &gt; npm install transformation-matrix-jsor install globally: &gt; npm install -g transformation-matrix-jsThen in your Node script you simple require the package: var Matrix = require(&quot;transformation-matrix-js&quot;).Matrix;and create an instance: var matrix = new Matrix();Make sure you're using a recent version of node/npm. × Search results Close Epistemex at GitHub "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
